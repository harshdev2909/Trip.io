import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for location : Las Vegas for 3 days for couple with a cheap budget. Give me a hotel options with HotelName , Hotel address , price , hotel image url , geo coordinates , rating , discription  and suggest itineary with placeName, place Details , place image url , geo coordinates , ticket Pricing , rating , Time travel  each of the location for 3 days with each day plan with best time to visit in JSON Format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$80 per night\",\n      \"imageUrl\": \"https://www.the-d.com/images/gallery/main-lobby/the-d-las-vegas-hotel-lobby.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1422\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering a vibrant atmosphere, casino, and live entertainment.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$120 per night\",\n      \"imageUrl\": \"https://www.goldennugget.com/las-vegas/images/hero/hero-golden-nugget-las-vegas-hotel-casino.jpg\",\n      \"geoCoordinates\": \"36.1695, -115.1417\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a casino, multiple restaurants, and an impressive shark tank atrium. Offers a good value for the location and amenities.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$70 per night\",\n      \"imageUrl\": \"https://www.circuscircus.com/content/dam/caesars/circus-circus/images/circus-circus-hero-mobile.jpg\",\n      \"geoCoordinates\": \"36.1077, -115.1732\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A budget-friendly option with a circus theme, carnival midway, and a family-friendly atmosphere. Located on the Strip, offering easy access to attractions.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Fremont Street Experience\",\n          \"details\": \"Explore the vibrant pedestrian mall with its iconic canopy, live music, street performers, and numerous shops and restaurants. Take a ride on the SlotZilla zipline for an adrenaline rush (ticket prices vary).\",\n          \"imageUrl\": \"https://www.vegasexperience.com/media/images/freemont-street-experience-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1422\",\n          \"ticketPricing\": \"SlotZilla zipline: $25-$60\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"Neon Museum\",\n          \"details\": \"Discover the history of Las Vegas' iconic neon signs at this unique outdoor museum. Take a guided tour to learn about the city's evolution and see vintage signs up close. \",\n          \"imageUrl\": \"https://www.neonmuseum.org/sites/default/files/styles/large/public/field/image/neon-museum-exterior-day.jpg\",\n          \"geoCoordinates\": \"36.1632, -115.1395\",\n          \"ticketPricing\": \"$20-$30 per person\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"1.5-2 hours\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"Dinner at a local restaurant on Fremont Street\",\n          \"details\": \"Enjoy a casual dinner at a restaurant like \" +\n            \"the Heart Bar & Grill\" +\n            \" or the \" +\n            \"California Pizza Kitchen\" +\n            \" on Fremont Street for affordable and delicious options.\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Bellagio Conservatory & Botanical Garden\",\n          \"details\": \"Experience the stunning floral displays and themed exhibits in this free-to-enter attraction. Take a stroll through the serene gardens and admire the artistry of the botanical creations.\",\n          \"imageUrl\": \"https://cdn.pixabay.com/photo/2017/02/09/17/21/bellagio-1820967_960_720.jpg\",\n          \"geoCoordinates\": \"36.1145, -115.1726\",\n          \"ticketPricing\": \"Free\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"1-2 hours\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"The LINQ Promenade\",\n          \"details\": \"Walk along this outdoor shopping, dining, and entertainment district. Ride the High Roller observation wheel for panoramic views of the city (ticket prices vary).\",\n          \"imageUrl\": \"https://www.linq.com/content/dam/caesars/the-linq/images/hero-the-linq-promenade-daytime-mobile.jpg\",\n          \"geoCoordinates\": \"36.1143, -115.1718\",\n          \"ticketPricing\": \"High Roller: $25-$40\",\n          \"rating\": \"4 stars\",\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"Free show on the Strip\",\n          \"details\": \"Enjoy a free show on the Strip, such as the \" +\n            \"Fountains of Bellagio\" +\n            \" or the \" +\n            \"Volcano at The Mirage\" +\n            \" (check show times online).\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n          \"place\": \"Red Rock Canyon National Conservation Area\",\n          \"details\": \"Escape the city and enjoy a scenic drive through this stunning landscape with red rock formations, hiking trails, and scenic overlooks. Pack a picnic lunch and enjoy the beauty of nature. \",\n          \"imageUrl\": \"https://www.nps.gov/redr/learn/photosmultimedia/web-photos/RedRockCanyon-Overview.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1422\",\n          \"ticketPricing\": \"Park entry fee: $15 per vehicle\",\n          \"rating\": \"4.5 stars\",\n          \"timeTravel\": \"3-4 hours\"\n        },\n        {\n          \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n          \"place\": \"Las Vegas Strip\",\n          \"details\": \"Walk along the famous Las Vegas Strip and admire the dazzling hotels and casinos. Stop by the various resorts and enjoy the free amenities, such as the themed pools, gardens, or art exhibits.\"\n        },\n        {\n          \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n          \"place\": \"Free concert or show\",\n          \"details\": \"Check for free concerts or shows at some of the casinos, such as the \" +\n            \"Caesars Palace\" +\n            \" or the \" +\n            \"MGM Grand\" +\n            \" (look for schedules online).\n          \"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* The itinerary is designed for a couple with a cheap budget, focusing on free and budget-friendly activities.\n* Hotel prices are estimates and can vary depending on the season and demand.\n* Consider using public transportation or ride-sharing services to save on transportation costs.\n* Be sure to check the opening hours and ticket prices for attractions before visiting.\n* This is just a sample itinerary, feel free to customize it based on your interests and preferences.\n* Remember to have fun and enjoy your trip! \n"},
          ],
        },
      ],
    });
  
    